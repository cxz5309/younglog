(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{48:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(40),r=a.n(n),c=(a(48),a(3)),o=a(4),i=a(6),l=a(5),d=a(10),u=a(11),j=a(22),h=a(2),m=a.n(h),p=a(9),b=a(8),O=a.n(b),x=a(0),f=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={readyPost:{uid:"",userName:"",userPwd:"",title:"",description:"",thumbnail:"",date:"",views:0}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({readyPost:this.props.data})}},{key:"render",value:function(){var e=this.state.readyPost.uid,t=this.state.readyPost.title,a=this.state.readyPost.date,s=this.state.readyPost.userName,n=this.state.readyPost.description,r=this.state.readyPost.thumbnail;return Object(x.jsx)(d.b,{to:"/read-post/".concat(e),children:Object(x.jsx)("article",{children:Object(x.jsxs)("div",{className:"popular-content",children:[Object(x.jsx)("div",{className:"popular-title",children:t}),Object(x.jsxs)("div",{className:"popular-info row",children:[Object(x.jsx)("div",{className:"created-date",children:a}),Object(x.jsx)("div",{className:"writer",children:s})]}),Object(x.jsxs)("div",{className:"popular-desc",children:[Object(x.jsx)("div",{children:n}),Object(x.jsx)("div",{children:r})]})]})})})}}]),a}(s.Component),v=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"popular-post-box",children:[Object(x.jsxs)("div",{className:"popular-header",children:[Object(x.jsx)("div",{className:"title",children:"Popular post"}),Object(x.jsx)("div",{className:"view-all",children:Object(x.jsx)(d.b,{to:"/list-post/popular",children:"View all"})})]}),Object(x.jsx)("div",{className:"contents-box row",children:this.props.datas.map((function(e,t){return Object(x.jsx)("div",{children:Object(x.jsx)(f,{data:e})},t)}))})]})}}]),a}(s.Component),g=v,N=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={readyPost:{uid:"",userName:"",userPwd:"",title:"",description:"",date:new Date,views:0}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({readyPost:this.props.data})}},{key:"render",value:function(){var e=this.state.readyPost.uid,t=this.state.readyPost.title,a=this.state.readyPost.date.valueOf(),s=this.state.readyPost.userName,n=this.state.readyPost.description,r=this.state.readyPost.thumbnail;return Object(x.jsx)(d.b,{to:"/read-post/"+e,children:Object(x.jsxs)("article",{className:"recent-box row",children:[Object(x.jsx)("div",{className:"thumbnail-box"}),Object(x.jsxs)("div",{className:"recent-content",children:[Object(x.jsx)("div",{className:"recent-title",children:t}),Object(x.jsxs)("div",{className:"recent-info row",children:[Object(x.jsx)("div",{className:"created-date",children:a}),Object(x.jsx)("div",{className:"writer",children:s})]}),Object(x.jsxs)("div",{className:"recent-desc",children:[n,Object(x.jsx)("div",{children:r})]})]})]})})}}]),a}(s.Component),y=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"recent-post-box",children:[Object(x.jsxs)("div",{className:"recent-header row",children:[Object(x.jsx)("div",{className:"title",children:Object(x.jsx)("h1",{children:"Recent post"})}),Object(x.jsx)(d.b,{to:"/list-post/recent",className:"view-all",children:"View all"})]}),Object(x.jsx)("div",{className:"contents-box",children:this.props.datas.map((function(e,t){return Object(x.jsx)("span",{children:Object(x.jsx)(N,{data:e})},t)}))})]})}}]),a}(s.Component),w=y,C=a(19),k=a(21),P=a(17),S=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),e=t.call(this),C.b.add(P.c,P.a),e}return Object(o.a)(a,[{key:"render",value:function(){return Object(x.jsx)("header",{className:"header",children:Object(x.jsx)("nav",{children:Object(x.jsxs)("div",{className:"header-box row",children:[Object(x.jsx)("div",{className:"logo-box",children:Object(x.jsx)(d.b,{to:"/",className:"header-logo",children:Object(x.jsx)("img",{src:"/image/zero-w-logo_mini.png",alt:"logo-img"})})}),Object(x.jsxs)("div",{className:"nav-items row",children:[this.props.userName.length>0&&Object(x.jsx)(d.b,{to:"/create-post",className:"nav-item",children:"\uac8c\uc2dc\ubb3c \uc791\uc131"}),Object(x.jsx)(d.b,{to:"/join",className:"nav-item",children:" \ud68c\uc6d0\uac00\uc785 "}),this.props.userName.length>0?Object(x.jsx)("span",{onClick:this.props.logout,children:"\ub85c\uadf8\uc544\uc6c3"}):Object(x.jsx)(d.b,{to:"/login",className:"nav-item",children:" \ub85c\uadf8\uc778 "}),Object(x.jsx)(k.a,{className:"nav-item",icon:(P.c,P.a),size:"2x"})]})]})})})}}]),a}(s.Component),M=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"headline-box row",children:[Object(x.jsx)("div",{className:"info-box",children:Object(x.jsxs)("article",{children:[Object(x.jsx)("div",{className:"title",children:"\uc601\uc6b0 \ube14\ub85c\uadf8"}),Object(x.jsx)("div",{className:"description",children:"\uc2dc\uac04\ubc30\ubd84\uc744..\uc798\ud558\uc790.."})]})}),Object(x.jsx)("div",{className:"avatar-box",children:Object(x.jsx)("article",{className:"user-avatar",children:Object(x.jsx)("img",{src:"image/me.jpg",alt:"\uc544\ubc14\ud0c0"})})})]})}}]),a}(s.Component),D=M,I=a(23),L=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),e=t.call(this),C.b.add(P.c,I.b,I.a,P.b),e}return Object(o.a)(a,[{key:"render",value:function(){return Object(x.jsx)("footer",{children:Object(x.jsx)("div",{className:"footer",children:Object(x.jsxs)("div",{className:"link",children:[Object(x.jsx)("a",{href:"cxz5309@gmail.com",children:Object(x.jsx)(k.a,{icon:(P.c,P.b),size:"3x"})}),Object(x.jsx)("a",{href:"https://github.com/cxz5309",children:Object(x.jsx)(k.a,{icon:(I.b,I.a),size:"3x"})})]})})})}}]),a}(s.Component),U=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).logout=function(){localStorage.removeItem("token"),alert("\ub85c\uadf8\uc544\uc6c3\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),window.location.reload()},e.getMe=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("/api/me",{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(t){if(!t.data.user)throw e.setState({userName:""}),new Error("\uc54c\uc218 \uc5c6\ub294 \uc624\ub958\uac00 \uc788\uc5b4 \ub85c\uadf8\uc778\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.");console.log(t.data.user),console.log("\uc790\ub3d9\uc73c\ub85c \ub85c\uadf8\uc778\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),e.setState({userName:t.data.user.userName})})).catch((function(t){e.setState({userName:""}),console.log(t),console.log("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4")}));case 2:case"end":return t.stop()}}),t)}))),e.getList=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("/api").then((function(t){e.setState({pList:t.data.popularList}),e.setState({rList:t.data.recentList})})).catch((function(t){t.response?(alert(t.response.data.message),e.props.history.push("/")):(console.log(t),alert("\ud398\uc774\uc9c0 \ub85c\ub529 \uc2e4\ud328!"),e.props.history.push("/"))}));case 2:case"end":return t.stop()}}),t)}))),e.state={pList:[],rList:[],userName:""},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getMe(),this.getList()}},{key:"render",value:function(){var e=Object(j.a)(this.state.pList),t=Object(j.a)(this.state.rList),a=this.state.userName;return Object(x.jsxs)("div",{children:[Object(x.jsx)(S,{userName:a,logout:this.logout}),Object(x.jsxs)("main",{children:[Object(x.jsx)("section",{className:"headline",children:Object(x.jsx)(D,{})}),Object(x.jsx)("section",{className:"popular-post",children:Object(x.jsx)(g,{datas:e})}),Object(x.jsx)("section",{className:"recent-post",children:Object(x.jsx)(w,{datas:t})})]}),Object(x.jsx)(L,{})]})}}]),a}(s.Component),z=a(43),B=a.n(z),T=function(e){var t=e.location,a=e.match,s=B.a.parse(t.search);return console.log(t.search),console.log(s),Object(x.jsxs)("div",{children:[Object(x.jsxs)("h2",{children:["About ",a.params.name]}),Object(x.jsxs)("span",{children:[" ",s.detail&&"detail: blahblah"]})]})},E=function(e){var t=e.match;return Object(x.jsxs)("div",{children:["\ud3ec\uc2a4\ud2b8 ",t.params.id]})},F=function(e){var t=e.match;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Post List"}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)(d.b,{to:"".concat(t.url,"/1"),children:"Post #1"})}),Object(x.jsx)("li",{children:Object(x.jsx)(d.b,{to:"".concat(t.url,"/2"),children:"Post #2"})}),Object(x.jsx)("li",{children:Object(x.jsx)(d.b,{to:"".concat(t.url,"/3"),children:"Post #3"})}),Object(x.jsx)("li",{children:Object(x.jsx)(d.b,{to:"".concat(t.url,"/4"),children:"Post #4"})})]}),Object(x.jsx)(u.a,{exact:!0,path:t.url,render:function(){return Object(x.jsx)("h3",{children:"Please select any post"})}}),Object(x.jsx)(u.a,{path:"".concat(t.url,"/:id"),component:E})]})},R=a(18),J=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).getMe=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("/api/me",{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(t){if(!t.data.user)throw e.setState({userName:""}),new Error("\uc54c\uc218 \uc5c6\ub294 \uc624\ub958\uac00 \uc788\uc5b4 \ub85c\uadf8\uc778\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.");console.log("\uc790\ub3d9\uc73c\ub85c \ub85c\uadf8\uc778\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),e.setState({userName:t.data.user.userName})})).catch((function(t){e.setState({userName:""}),console.log(t),alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \uba54\uc778 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."),e.props.history.push("/")}));case 2:case"end":return t.stop()}}),t)}))),e.handleSubmit=function(){var t=Object(p.a)(m.a.mark((function t(a){var s,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s=e.state.readyPost,(n=new FormData).append("file",e.state.thumbnail),n.set("title",s.title),n.set("description",s.description),n.set("userName",s.userName),n.set("userPwd",s.userPwd),console.log(n),t.next=11,O.a.post("/api/create-post",n).then((function(t){alert("\ud3ec\uc2a4\ud2b8 \uc131\uacf5!"),e.props.history.push("/")})).catch((function(t){t.response?alert(t.response.data.message):(console.log(t),alert("\ud3ec\uc2a4\ud2b8 \uc2e4\ud328!")),e.props.history.push("/")}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=Object(R.a)({},e.state.readyPost);a[t.target.name]=t.target.value,e.setState({readyPost:a})},e.onImgChange=function(t){e.setState({thumbnail:t.target.files[0]})},e.state={readyPost:{uid:"",userName:"",userPwd:"",title:"",description:"",date:"",views:0,thumbnailUrl:""},thumbnail:null},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getMe()}},{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsx)("main",{children:Object(x.jsx)("div",{children:Object(x.jsx)("section",{className:"create-post-container",children:Object(x.jsx)("div",{className:"create-post-group",children:Object(x.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(x.jsx)("label",{className:"form-label",children:"\uc81c\ubaa9"}),Object(x.jsx)("input",{type:"text",id:"title",className:"form-control",name:"title",onChange:this.handleChange}),Object(x.jsx)("label",{className:"form-label",children:"\uc791\uc131\uc790"}),Object(x.jsx)("input",{type:"text",id:"writer",className:"form-control",name:"userName",onChange:this.handleChange}),Object(x.jsx)("label",{className:"form-label",children:"\ube44\ubc00\ubc88\ud638"}),Object(x.jsx)("input",{type:"text",id:"password",className:"form-control",name:"userPwd",onChange:this.handleChange}),Object(x.jsx)("label",{className:"form-label",children:"\ub0b4\uc6a9"}),Object(x.jsx)("textarea",{id:"description",className:"form-control",name:"description",onChange:this.handleChange}),Object(x.jsx)("label",{className:"form-label",children:"\uc378\ub124\uc77c"}),Object(x.jsx)("div",{className:"input-group mb-3",children:Object(x.jsx)("input",{type:"file",className:"form-control",id:"thumbnail",name:"thumbnail",accept:"image/jpg, image/png, image/jpeg",onChange:this.onImgChange})}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{type:"submit",className:"btn btn-primary mb-3",children:"\uac8c\uc2dc\ubb3c \uc791\uc131"})})]})})})})})})}}]),a}(s.Component),V=J,A=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).getMe=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("/api/me",{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(t){if(!t.data.user)throw e.setState({userName:""}),new Error("\uc54c\uc218 \uc5c6\ub294 \uc624\ub958\uac00 \uc788\uc5b4 \ub85c\uadf8\uc778\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.");console.log("\uc790\ub3d9\uc73c\ub85c \ub85c\uadf8\uc778\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),e.setState({userName:t.data.user.userName})})).catch((function(t){e.setState({userName:""}),console.log(t),alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \uba54\uc778 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."),e.props.history.push("/")}));case 2:case"end":return t.stop()}}),t)}))),e.getPost=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.get("/api/update-post/"+e.props.match.params.id).then((function(t){e.setState({readyPost:t.data.post});var a=Object(R.a)({},e.state.readyPost);a.userPwd="",e.setState({readyPost:a})}));case 3:t.next=10;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0),alert("\ud398\uc774\uc9c0 \ub85c\ub529 \uc2e4\ud328!"),e.props.history.push("/");case 10:case"end":return t.stop()}}),t,null,[[0,5]])}))),e.handleSubmit=function(){var t=Object(p.a)(m.a.mark((function t(a){var s,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),s=e.state.readyPost,"update"!==e.state.submitType){t.next=7;break}return t.next=5,O.a.patch("/api/update-post/"+e.props.match.params.id,s).then((function(t){alert("\uc5c5\ub370\uc774\ud2b8 \uc131\uacf5!"),e.props.history.push("/")})).catch((function(t){t.response?(alert(t.response.data.message),e.props.history.push("/")):(console.log(t),alert("\uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328!"),e.props.history.push("/"))}));case 5:t.next=10;break;case 7:return n=e.state.readyPost.userPwd,t.next=10,O.a.delete("/api/delete-post/"+e.props.match.params.id,{data:{userPwd:n}}).then((function(t){alert("\uc0ad\uc81c \uc131\uacf5!"),e.props.history.push("/")})).catch((function(t){t.response?(alert(t.response.data.message),e.props.history.push("/")):(console.log(t),alert("\uc0ad\uc81c \uc2e4\ud328!"),e.props.history.push("/"))}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=Object(R.a)({},e.state.readyPost);a[t.target.name]=t.target.value,e.setState({readyPost:a})},e.state={readyPost:{uid:"",userName:"",userPwd:"",title:"",description:"",date:new Date,views:0},userName:"",submitType:"update"},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getMe(),this.getPost()}},{key:"render",value:function(){var e=this;return Object(x.jsx)("div",{children:Object(x.jsx)("main",{children:Object(x.jsx)("section",{className:"update-post-container",children:Object(x.jsx)("div",{className:"update-post-group",children:Object(x.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(x.jsx)("label",{className:"form-label",children:"\uc81c\ubaa9"}),Object(x.jsx)("input",{type:"text",id:"title",className:"form-control",name:"title",value:this.state.readyPost.title,onChange:this.handleChange}),Object(x.jsx)("label",{className:"form-label",children:"\uc791\uc131\uc790"}),Object(x.jsx)("input",{type:"text",id:"writer",className:"form-control",name:"userName",value:this.state.readyPost.userName,onChange:this.handleChange}),Object(x.jsx)("label",{className:"form-label",children:"\ube44\ubc00\ubc88\ud638"}),Object(x.jsx)("input",{type:"text",id:"password",className:"form-control",name:"userPwd",value:this.state.readyPost.userPwd,onChange:this.handleChange}),Object(x.jsx)("label",{className:"form-label",children:"\ub0b4\uc6a9"}),Object(x.jsx)("textarea",{id:"description",className:"form-control",name:"description",value:this.state.readyPost.description,onChange:this.handleChange}),Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{type:"submit",className:"btn btn-primary mb-3",onClick:function(){e.setState({submitType:"update"})},children:"\uac8c\uc2dc\ubb3c \uc218\uc815"}),Object(x.jsx)("button",{type:"submit",className:"btn btn-primary mb-3",onClick:function(){e.setState({submitType:"delete"})},children:"\uac8c\uc2dc\ubb3c \uc0ad\uc81c"})]})]})})})})})}}]),a}(s.Component),_=A,q=a(28),G=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleClick=function(t){e.setState({commentState:t}),"update"===t&&e.setState({readyUpdateContent:e.props.comment.contents})},e.submitUpdate=Object(p.a)(m.a.mark((function t(){var a,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.readyUpdateContent,s=localStorage.getItem("token"),0!==a.length){t.next=5;break}return alert("\ub313\uae00 \ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694"),t.abrupt("return");case 5:return t.next=7,O.a.patch("/api/edit-comments/"+e.props.comment.uid,{contents:a},{headers:{authorization:"Bearer ".concat(s)}}).then((function(e){alert("\ucf54\uba58\ud2b8\uac00 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),window.location.reload()})).catch((function(e){e.response?(console.log(e.response),alert(e.response.data.message)):alert(e)}));case 7:case"end":return t.stop()}}),t)}))),e.submitDelete=Object(p.a)(m.a.mark((function t(){var a,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.readyUpdateContent,s=localStorage.getItem("token"),t.next=4,O.a.delete("/api/delete-comments/"+e.props.comment.uid,{contents:a,headers:{authorization:"Bearer ".concat(s)}}).then((function(e){alert("\ucf54\uba58\ud2b8\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),window.location.reload()})).catch((function(e){e.response?(console.log(e.response),alert(e.response.data.message)):alert(e)}));case 4:case"end":return t.stop()}}),t)}))),e.state={commentState:"ready",readyUpdateContent:""},e}return Object(o.a)(a,[{key:"renderSwitch",value:function(e){var t=this;switch(e){default:return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"comment",children:[Object(x.jsx)("div",{className:"comment-writer",children:this.props.comment.writer}),Object(x.jsx)("div",{className:"comment-date",children:this.props.comment.date}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:"comment-content",children:this.props.comment.contents})]}),this.props.userName===this.props.comment.writer&&Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{onClick:function(){return t.handleClick("update")},children:"\uc218\uc815"}),Object(x.jsx)("button",{onClick:function(){return t.handleClick("delete")},children:"\uc0ad\uc81c"})]})]});case"update":return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"comment",children:[Object(x.jsx)("div",{className:"comment-writer",children:this.props.comment.writer}),Object(x.jsx)("div",{className:"comment-date",children:this.props.comment.date}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{className:"comment-content",onChange:function(e){return t.setState({readyUpdateContent:e.target.value})},value:this.state.readyUpdateContent})]}),this.props.userName===this.props.comment.writer&&Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{onClick:function(){return t.handleClick("ready")},children:"\uc218\uc815 \ucde8\uc18c"}),Object(x.jsx)("button",{onClick:function(){return t.submitUpdate()},children:"\uc218\uc815 \ud655\uc778"})]})]});case"delete":return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"comment",children:[Object(x.jsx)("div",{className:"comment-writer",children:this.props.comment.writer}),Object(x.jsx)("div",{className:"comment-date",children:this.props.comment.date}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:"comment-content",children:this.props.comment.contents})]}),this.props.userName===this.props.comment.writer&&Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{onClick:function(){return t.handleClick("ready")},children:"\uc0ad\uc81c \ucde8\uc18c"}),Object(x.jsx)("button",{onClick:function(){return t.submitDelete()},children:"\uc0ad\uc81c \ud655\uc778"})]})]})}}},{key:"render",value:function(){return Object(x.jsx)("div",{children:this.renderSwitch(this.state.commentState)})}}]),a}(s.Component),H=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).logout=function(){localStorage.removeItem("token"),alert("\ub85c\uadf8\uc544\uc6c3\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),window.location.reload()},e.getMe=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("/api/me",{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(t){if(!t.data.user)throw e.setState({userName:""}),new Error("\uc54c\uc218 \uc5c6\ub294 \uc624\ub958\uac00 \uc788\uc5b4 \ub85c\uadf8\uc778\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.");console.log("\uc790\ub3d9\uc73c\ub85c \ub85c\uadf8\uc778\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),e.setState({userName:t.data.user.userName})})).catch((function(t){e.setState({userName:""}),console.log(t),console.log("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4")}));case 2:case"end":return t.stop()}}),t)}))),e.getPost=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("/api/read-post/"+e.props.match.params.id).then((function(t){e.setState({readyPost:t.data.post})})).catch((function(t){t.response?alert(t.response.data.message):(console.log(t),alert("\ud398\uc774\uc9c0 \ub85c\ub529 \uc2e4\ud328!")),e.props.history.push("/")}));case 2:case"end":return t.stop()}}),t)}))),e.getComments=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("/api/comments/"+e.props.match.params.id).then((function(t){e.setState({readyComments:t.data.comments})})).catch((function(t){console.log("\uc624\ub958\ub85c \uc778\ud574 \ub313\uae00\uc774 \ud45c\uc2dc\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),e.setState({readyComments:[]}),t.response?console.log(t.response.data.message):console.log(t)}));case 2:case"end":return t.stop()}}),t)}))),e.handleClick=function(){e.props.history.push("/update-post/"+e.state.postId)},e.CreateComment=function(){var t=Object(p.a)(m.a.mark((function t(a){var s,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),s=e.state.myComment,n=localStorage.getItem("token"),0!==s.length){t.next=6;break}return alert("\ub313\uae00 \ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694"),t.abrupt("return");case 6:return t.next=8,O.a.post("/api/create-comment/"+e.props.match.params.id,{contents:s},{headers:{authorization:"Bearer ".concat(n)}}).then((function(e){alert("\ub313\uae00 \uc0dd\uc131!"),window.location.reload()})).catch((function(t){t.response?alert(t.response.data.message):(console.log(t),alert("\ub313\uae00 \uc2e4\ud328!")),e.props.history.push("/login")}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.RemoveThisComment=function(){e.setState({myComment:""})},e.handleChange=function(t){e.setState(Object(q.a)({},t.target.name,t.target.value))},e.state={postId:"",userName:"",readyPost:{uid:"",userName:"",userPwd:"",title:"",description:"",date:new Date,views:0},readyComments:[],myComment:""},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getMe(),this.setState({postId:this.props.match.params.id}),this.getPost(),this.getComments()}},{key:"render",value:function(){var e=this.state.readyPost.title,t=this.state.readyPost.date.valueOf(),a=this.state.readyPost.userName,s=this.state.readyPost.description,n=this.state.readyPost.views,r=this.state.userName,c=void 0===this.state.readyComments?[]:this.state.readyComments;return Object(x.jsxs)("div",{children:[Object(x.jsx)(S,{userName:r,logout:this.logout}),Object(x.jsx)("main",{children:Object(x.jsx)("section",{children:Object(x.jsxs)("div",{className:"read-page",children:[Object(x.jsxs)("div",{className:"content-header",children:[Object(x.jsx)("h1",{className:"read-title",children:e}),Object(x.jsxs)("div",{className:"read-info row",children:[Object(x.jsx)("div",{className:"created-date",children:t}),Object(x.jsx)("div",{className:"writer",children:a})]})]}),Object(x.jsxs)("div",{className:"read-content",children:[Object(x.jsx)("div",{className:"desc",children:s}),Object(x.jsxs)("div",{className:"views",children:["\uc870\ud68c\uc218 : ",n]})]}),r.length>0&&Object(x.jsx)("div",{className:"btn",children:Object(x.jsx)("input",{type:"button",onClick:this.handleClick,value:"\uac8c\uc2dc\uae00 \uc218\uc815 & \uc0ad\uc81c"})}),Object(x.jsxs)("div",{className:"comments",children:[Object(x.jsxs)("div",{className:"myComment",children:[Object(x.jsx)("input",{type:"text",name:"myComment",id:"content",onChange:this.handleChange,value:this.state.myComment}),Object(x.jsx)("button",{onClick:this.RemoveThisComment,children:"\ucde8\uc18c"}),Object(x.jsx)("button",{onClick:this.CreateComment,children:"\ub313\uae00"})]}),Object(x.jsxs)("div",{children:[c.length," \uac1c\uc758 \ucf54\uba58\ud2b8\uac00 \uc788\uc2b5\ub2c8\ub2e4."]}),c.map((function(e,t){return Object(x.jsx)("div",{children:Object(x.jsx)(G,{userName:r,comment:e})},t)}))]})]})})}),Object(x.jsx)(L,{})]})}}]),a}(s.Component),K=H,Q=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={readyPost:{uid:"",userName:"",userPwd:"",title:"",description:"",date:"",views:0}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({readyPost:this.props.data})}},{key:"render",value:function(){var e=this.state.readyPost.uid,t=this.state.readyPost.title,a=this.state.readyPost.date,s=this.state.readyPost.userName,n=this.state.readyPost.description;return Object(x.jsx)(d.b,{to:"/read-post/"+e,children:Object(x.jsx)("article",{className:"row",children:Object(x.jsxs)("div",{className:"list-content col-9",children:[Object(x.jsx)("div",{className:"list-title",children:t}),Object(x.jsxs)("div",{className:"list-info row",children:[Object(x.jsx)("div",{className:"created-date col-3",children:a}),Object(x.jsx)("div",{className:"writer col-9",children:s})]}),Object(x.jsx)("div",{className:"list-desc",children:n})]})})})}}]),a}(s.Component),W=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).logout=function(){localStorage.removeItem("token"),alert("\ub85c\uadf8\uc544\uc6c3\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),window.location.reload()},e.getMe=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("/api/me",{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(t){if(!t.data.user)throw e.setState({userName:""}),new Error("\uc54c\uc218 \uc5c6\ub294 \uc624\ub958\uac00 \uc788\uc5b4 \ub85c\uadf8\uc778\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.");console.log(t.data.user),console.log("\uc790\ub3d9\uc73c\ub85c \ub85c\uadf8\uc778\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),e.setState({userName:t.data.user.userName})})).catch((function(t){e.setState({userName:""}),console.log(t),console.log("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4")}));case 2:case"end":return t.stop()}}),t)}))),e.getList=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("/api/list-post/"+e.props.match.params.sortType).then((function(t){console.log(t),e.setState({postList:t.data.postList})})).catch((function(t){t.response?(alert(t.response.data.message),e.props.history.push("/")):(console.log(t),alert("\ud398\uc774\uc9c0 \ub85c\ub529 \uc2e4\ud328!"),e.props.history.push("/"))}));case 2:case"end":return t.stop()}}),t)}))),e.state={postList:[],userName:""},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getMe(),this.getList()}},{key:"render",value:function(){var e=Object(j.a)(this.state.postList),t=this.state.userName;return Object(x.jsxs)("div",{children:[Object(x.jsx)(S,{userName:t,logout:this.logout}),Object(x.jsx)("main",{children:Object(x.jsxs)("section",{className:"recent-post",children:[Object(x.jsx)("div",{className:"content-header",children:Object(x.jsx)("h1",{className:"page-title",children:this.props.match.params.id})}),Object(x.jsx)("div",{className:"list-contents",children:Object(x.jsx)("div",{className:"contents",children:Object(x.jsx)("div",{className:"contents-box",children:e.map((function(e,t){return Object(x.jsx)("div",{children:Object(x.jsx)(Q,{data:e})},t)}))})})})]})}),Object(x.jsx)(L,{})]})}}]),a}(s.Component),X=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).getMe=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("/api/me",{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(t){t.data.user&&(alert("\uc774\ubbf8 \ub85c\uadf8\uc778\ub418\uc5b4\uc788\uc5b4 \uba54\uc778 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."),e.props.history.push("/"))})).catch((function(e){console.log(e),console.log("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4")}));case 2:case"end":return t.stop()}}),t)}))),e.register=function(){var t=Object(p.a)(m.a.mark((function t(a){var s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s=e.state.readyUser,t.next=4,O.a.post("/api/join",s).then((function(t){alert("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5!"),e.props.history.push("/login")})).catch((function(e){e.response?(console.log(e.response),alert(e.response.data.message)):alert(e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=Object(R.a)({},e.state.readyUser);a[t.target.name]=t.target.value,e.setState({readyUser:a})},e.state={readyUser:{userName:"",password:"",confirmPassword:""}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getMe()}},{key:"render",value:function(){return Object(x.jsx)("main",{children:Object(x.jsxs)("div",{className:"join-container",children:[Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"\ud68c\uc6d0\uac00\uc785"})}),Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:"join-group",children:Object(x.jsxs)("form",{children:[Object(x.jsx)("label",{children:"\uc0ac\uc6a9\uc790 \ub2c9\ub124\uc784"}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"text",name:"userName",placeholder:"3\uc790 \uc774\uc0c1, \uc54c\ud30c\ubcb3 \ub300\uc18c\ubb38\uc790",className:"sign-input",onChange:this.handleChange}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"\ube44\ubc00\ubc88\ud638"}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"password",name:"password",placeholder:"4\uc790 \uc774\uc0c1",className:"sign-input",onChange:this.handleChange}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"\ube44\ubc00\ubc88\ud638\ub97c \ud55c\ubc88 \ub354 \uc785\ub825\ud574\uc8fc\uc138\uc694."}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",className:"sign-input",onChange:this.handleChange}),Object(x.jsx)("br",{})]})})}),Object(x.jsx)("button",{onClick:this.register,className:"box-btn",children:"\ud68c\uc6d0\uac00\uc785"})]})})}}]),a}(s.Component),Y=X,Z=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).getMe=Object(p.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get("/api/me",{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(t){alert("\uc774\ubbf8 \ub85c\uadf8\uc778\ub418\uc5b4\uc788\uc5b4 \uba54\uc778 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."),e.props.history.push("/")}));case 2:case"end":return t.stop()}}),t)}))),e.login=function(){var t=Object(p.a)(m.a.mark((function t(a){var s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s=e.state.readyUser,t.next=4,O.a.post("/api/login",s).then((function(t){localStorage.setItem("token",t.data.token),alert("\ub85c\uadf8\uc778\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),e.props.history.push("/")})).catch((function(e){e.response?(console.log(e.response),alert(e.response.data.message)):(console.log(e),alert("\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4!"))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=Object(R.a)({},e.state.readyUser);a[t.target.name]=t.target.value,e.setState({readyUser:a})},e.state={readyUser:{userName:"",password:""}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getMe()}},{key:"render",value:function(){return Object(x.jsx)("main",{children:Object(x.jsxs)("div",{className:"login-container",children:[Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"\ub85c\uadf8\uc778"})}),Object(x.jsxs)("form",{children:[Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:"login-group",children:Object(x.jsxs)("form",{children:[Object(x.jsx)("label",{children:"\ub2c9\ub124\uc784"}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"username",id:"userName",name:"userName",onChange:this.handleChange}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"\ube44\ubc00\ubc88\ud638"}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"password",id:"userpw",name:"password",onChange:this.handleChange}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]})})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{type:"submit",onClick:this.login,className:"login-box",children:"\ub85c\uadf8\uc778"}),Object(x.jsx)(d.b,{to:"/join",children:Object(x.jsx)("button",{children:"\ud68c\uc6d0\uac00\uc785"})})]})]})]})})}}]),a}(s.Component),$=Z,ee=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(x.jsx)(d.a,{children:Object(x.jsxs)("div",{children:[Object(x.jsx)(u.a,{exact:!0,path:"/",component:U}),Object(x.jsx)(u.a,{exact:!0,path:"/join",component:Y}),Object(x.jsx)(u.a,{exact:!0,path:"/login",component:$}),Object(x.jsx)(u.a,{exact:!0,path:"/create-post",component:V}),Object(x.jsx)(u.a,{exact:!0,path:"/update-post/:id",component:_}),Object(x.jsx)(u.a,{exact:!0,path:"/read-post/:id",component:K}),Object(x.jsx)(u.a,{exact:!0,path:"/list-post/:sortType",component:W}),Object(x.jsxs)(u.c,{children:[Object(x.jsx)(u.a,{path:"/about/:name",component:T}),Object(x.jsx)(u.a,{path:"/about",component:T})]}),Object(x.jsx)(u.a,{path:"/posts",component:F})]})})}}]),a}(s.Component),te=ee,ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,79)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))};r.a.render(Object(x.jsx)(te,{}),document.getElementById("root")),ae()}},[[78,1,2]]]);
//# sourceMappingURL=main.801003e2.chunk.js.map